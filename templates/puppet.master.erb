[master]
    # Puppet 4 defaults
    trusted_node_data = true
    immutable_node_data = true
    parser = future
    strict_variables = true

<% if @dns_alt_names -%>
    dns_alt_names = <%= @dns_alt_names %>
<% end -%>
    autosign = $confdir/autosign.conf
    ca = <%= @ca_enabled %>
<% if @reports -%>
    reports = <%= @reports %>
<% end -%>
<% if @certname -%>
    certname = <%= @certname %>
<% end -%>
<%  if @puppetdb -%>
    storeconfigs = true
    storeconfigs_backend = puppetdb
<% end -%>
<% if @hiera_source -%>
    hiera_config = $confdir/hiera.yaml
<% end -%>
